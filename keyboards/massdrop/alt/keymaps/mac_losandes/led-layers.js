const { makeLayer } = require('./led-maps')
const e________ = null
const _________ = null
const _PATTERN_ = '#pppppp'
const ___OFF___ = '#000000'

// blank layout
// [
//                     e________, e________, e________, e________, e________, e________, e________, e________, e________, e________, e________, e________, e________,
//   e________, _________, _________, _________, _________, _________, _________, _________, _________, _________, _________, _________, _________, _________, _________, _________, e________,
//   e________, _________, _________, _________, _________, _________, _________, _________, _________, _________, _________, _________, _________, _________, _________, _________, e________,
//   e________, _________, _________, _________, _________, _________, _________, _________, _________, _________, _________, _________, _________,       _________,      _________, e________,
//   e________, _________, _________, _________, _________, _________, _________, _________, _________, _________, _________, _________,       _________,      _________, _________, e________,
//   e________, _________, _________, _________,                                  _________,                                  _________, _________, _________, _________, _________, e________,
//              e________, e________, e________, e________, e________, e________, e________, e________, e________, e________, e________, e________, e________, e________, e________,
// ]

const layers = [
  // LAYER 0
  // ==========================================================================
  {
    layer: 0,
    comment: 'Default Layer',
    leds: [
                        e________, e________, e________, e________, e________, e________, e________, e________, e________, e________, e________, e________, e________,
      e________, _________, _________, _________, _________, _________, _________, _________, _________, _________, _________, _________, _________, _________, _________, _________, e________,
      e________, _________, _________, _________, _________, _________, _________, _________, _________, _________, _________, _________, _________, _________, _________, _________, e________,
      e________, _________, _________, _________, _________, _________, _________, '#7f00ff', '#7f00ff', '#7f00ff', '#7f00ff', _________, _________,       _________,      _________, e________,
      e________, _________, _________, _________, _________, _________, _________, _________, _________, _________, _________, _________,       _________,      _________, _________, e________,
      e________, _________, _________, _________,                                  _________,                                  _________, _________, _________, _________, _________, e________,
                 e________, e________, e________, e________, e________, e________, e________, e________, e________, e________, e________, e________, e________, e________, e________,
    ]
  }, // /layer0
  // LAYER 1
  // ==========================================================================
  {
    layer: 1,
    comment: 'LEDs & Fns',
    leds: [
                            _PATTERN_, _PATTERN_, _PATTERN_, _PATTERN_, _PATTERN_, _PATTERN_, _PATTERN_, _PATTERN_, _PATTERN_, _PATTERN_, _PATTERN_, _PATTERN_, _PATTERN_,
      _PATTERN_, '#0000ff', '#fe7700', '#fe7700', '#fe7700', '#fe7700', '#fe7700', '#fe7700', '#fe7700', '#fe7700', '#fe7700', '#fe7700', '#fe7700', '#fe7700', '#ff0000', '#0000ff', _PATTERN_,
      _PATTERN_, ___OFF___, ___OFF___, ___OFF___, ___OFF___, ___OFF___, ___OFF___, ___OFF___, ___OFF___, ___OFF___, ___OFF___, ___OFF___, ___OFF___, ___OFF___, ___OFF___, ___OFF___, _PATTERN_,
      _PATTERN_, ___OFF___, '#pppp00', ___OFF___, '#pppp00', ___OFF___, ___OFF___, ___OFF___, ___OFF___, ___OFF___, ___OFF___, ___OFF___, ___OFF___,       ___OFF___,      ___OFF___, _PATTERN_,
      _PATTERN_, ___OFF___, ___OFF___, '#pppp00', ___OFF___, ___OFF___, ___OFF___, ___OFF___, ___OFF___, ___OFF___, ___OFF___, ___OFF___,       ___OFF___,      '#pppp00', '#pppp00', _PATTERN_,
      _PATTERN_, '#7f00ff', ___OFF___, ___OFF___,                                  ___OFF___,                                  ___OFF___, ___OFF___, ___OFF___, '#pppp00', ___OFF___, _PATTERN_,
                 _PATTERN_, _PATTERN_, _PATTERN_, _PATTERN_, _PATTERN_, _PATTERN_, _PATTERN_, _PATTERN_, _PATTERN_, _PATTERN_, _PATTERN_, _PATTERN_, _PATTERN_, _PATTERN_, _PATTERN_,
    ]
  }, // /layer1
  // LAYER 2
  // ==========================================================================
  {
    layer: 2,
    comment: 'Mouse & Media',
    leds: [
                        '#1e88e5', '#1e88e5', '#1e88e5', '#1e88e5', '#1e88e5', '#1e88e5', '#1e88e5', '#1e88e5', '#1e88e5', '#1e88e5', '#1e88e5', '#1e88e5', '#1e88e5',
      '#1e88e5', ___OFF___, ___OFF___, ___OFF___, ___OFF___, ___OFF___, ___OFF___, ___OFF___, ___OFF___, ___OFF___, ___OFF___, ___OFF___, ___OFF___, ___OFF___, '#ff0000', '#1e88e5', '#1e88e5',
      '#1e88e5', ___OFF___, ___OFF___, '#1e88e5', ___OFF___, ___OFF___, ___OFF___, ___OFF___, ___OFF___, ___OFF___, ___OFF___, '#1e88e5', ___OFF___, ___OFF___, ___OFF___, '#1e88e5', '#1e88e5',
      '#1e88e5', '#1e88e5', '#1e88e5', '#1e88e5', '#1e88e5', ___OFF___, ___OFF___, ___OFF___, ___OFF___, ___OFF___, ___OFF___, ___OFF___, ___OFF___,       ___OFF___,      '#1e88e5', '#1e88e5',
      '#1e88e5', ___OFF___, ___OFF___, ___OFF___, ___OFF___, ___OFF___, ___OFF___, ___OFF___, ___OFF___, ___OFF___, ___OFF___, ___OFF___,       ___OFF___,      ___OFF___, '#1e88e5', '#1e88e5',
      '#1e88e5', ___OFF___, ___OFF___, ___OFF___,                                  '#1e88e5',                                  ___OFF___, '#7f00ff', '#1e88e5', ___OFF___, '#1e88e5', '#1e88e5',
                 '#1e88e5', '#1e88e5', '#1e88e5', '#1e88e5', '#1e88e5', '#1e88e5', '#1e88e5', '#1e88e5', '#1e88e5', '#1e88e5', '#1e88e5', '#1e88e5', '#1e88e5', '#1e88e5', '#1e88e5',
    ]
  }, // /layer2
  // LAYER 3
  // ==========================================================================
  {
    layer: 3,
    comment: 'App Hotkeys',
    leds: [
                        '#fe7700', '#fe7700', '#fe7700', '#fe7700', '#fe7700', '#fe7700', '#fe7700', '#fe7700', '#fe7700', '#fe7700', '#fe7700', '#fe7700', '#fe7700',
      '#fe7700', ___OFF___, '#fe7700', '#fe7700', ___OFF___, ___OFF___, ___OFF___, ___OFF___, ___OFF___, ___OFF___, ___OFF___, ___OFF___, ___OFF___, ___OFF___, ___OFF___, ___OFF___, '#fe7700',
      '#fe7700', ___OFF___, ___OFF___, ___OFF___, ___OFF___, ___OFF___, '#fe7700', ___OFF___, ___OFF___, ___OFF___, ___OFF___, ___OFF___, ___OFF___, ___OFF___, ___OFF___, ___OFF___, '#fe7700',
      '#fe7700', ___OFF___, '#fe7700', '#fe7700', ___OFF___, '#fe7700', ___OFF___, ___OFF___, ___OFF___, ___OFF___, ___OFF___, ___OFF___, ___OFF___,       ___OFF___,      ___OFF___, '#fe7700',
      '#fe7700', ___OFF___, '#fe7700', ___OFF___, '#fe7700', ___OFF___, '#fe7700', ___OFF___, '#fe7700', '#fe7700', ___OFF___, '#fe7700',       '#fe7700',      ___OFF___, ___OFF___, '#fe7700',
      '#fe7700', ___OFF___, ___OFF___, ___OFF___,                                  ___OFF___,                                  '#7f00ff', ___OFF___, ___OFF___, ___OFF___, ___OFF___, '#fe7700',
                 '#fe7700', '#fe7700', '#fe7700', '#fe7700', '#fe7700', '#fe7700', '#fe7700', '#fe7700', '#fe7700', '#fe7700', '#fe7700', '#fe7700', '#fe7700', '#fe7700', '#fe7700',
    ]
  } // /layer3
] // /layers

const c = layers
  .map(makeLayer)
  .reduce((configs, layer) => configs.concat(layer))
  .map((config) => config.c)
  .join(',\n  ')

console.log(`
led_instruction_t led_instructions[] = {
  //All LEDs use the user's selected pattern (this is the factory default)
  { .flags = LED_FLAG_USE_ROTATE_PATTERN },

  ${c},

  //end must be set to 1 to indicate end of instruction set
  { .end = 1 }
};`);
